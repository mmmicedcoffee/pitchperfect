<!DOCTYPE html>
<html>
<!--
	Pitch Perfect (GR4)

	Ge (Jackie) Chen
	Irene Chen
	Jiashan (Susan) Liang

	TA: Chong-U Lim
-->

<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Pitch Perfect</title>

	<!-- Load style sheets -->
    <link rel="stylesheet" media="screen" href="bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="jquery-ui/css/ui-lightness/jquery-ui.css" />
    <link rel="stylesheet" type="text/css" href="whhg-font/css/whhg.css" />
	<link rel="stylesheet" type="text/css" href="layout.css" />

	<style type="text/css">
	.tab-content {
	    border-left: 1px solid #ddd;
	    border-right: 1px solid #ddd;
	    border-bottom: 1px solid #ddd;
	    padding: 10px;
	    min-height: 550px;
	}
	.nav-tabs {
	    margin-bottom: 0;
	}
	.control-label {
		font-size: 0.9em;
	}
	legend {
		text-align: center;
		font-weight: bold;
	}
	.tab-content {
		min-height:340px;
	}
	.practice-header {
		font-weight: bold;
		text-align: center;
		margin: 2px 2px 8px;
	}
	#comments {
		margin-top:10px;
		margin-bottom: 10px;
	  	border: 1px solid #e3e3e3;
		-webkit-border-radius: 4px;
	    	-moz-border-radius: 4px;
	        	border-radius: 4px;
		-webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
		 	-moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
		      	box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
	}
	</style>

	<!-- Load js scripts at end of page so pages load faster -->
    <script type="text/javascript" src="external_js/jquery.js"></script>
    <script type="text/javascript" src="jquery-ui/js/jquery-ui.js"></script>
    <script type="text/javascript" src="bootstrap/js/bootstrap.js"></script>
    <script type="text/javascript" src="external_js/vexflow-min.js"></script>

  <script>
  $(document).ready(function() {
  	  // SLIDER STUFF
      $("#tempoSlider").slider({
      	range: "min",
      	value:$("#tempo").val(),
      	min:1,
      	max:180,
      	slide: function(event,ui) {
      		$("#tempo").val(ui.value);
      	}
      });
      $("#myVoicePartSlider").slider({
      	range: "min",
      	value:$("#myVoicePart").val(),
      	min:1,
      	max:100,
      	slide: function(event,ui) {
      		$("#myVoicePart").val(ui.value);
      	}
      });
      $("#otherVoicePartSlider").slider({
      	range: "min",
      	value:$("#otherVoicePart").val(),
      	min:1,
      	max:100,
      	slide: function(event,ui) {
      		$("#otherVoicePart").val(ui.value);
      	}
      });
      $("#metronomeSlider").slider({
      	range: "min",
      	value:$("#metronome").val(),
      	min:1,
      	max:180,
      	slide: function(event,ui) {
      		$("#metronome").val(ui.value);
      	}
      });
        var audioElement = document.createElement('audio');
        audioElement.setAttribute('src','images/Ace_of_Base_-_The_Sign.mp3');

        $.get();
        audioElement.addEventListener("load", function(){
        },true);
        $('.play').click(function(){
        	if (running()){
				audioElement.currentTime = 2;
				audioElement.pause();
        	}
        	else{
        		audioElement.play();
        		audioElement.currentTime = 2;
        	}
        });
        $('.record').click(function(){
        	
        });

		function running() {
    		return $('.play').hasClass('active');
		}

        // INPUT STUFF
        $("#tempo").change(function () {
        	if (this.value > 180) {
        		this.value = 180;
        	} else if (this.value < 0) {
        		this.value = 0;
        	}
		    var value = this.value;
		    $("#tempoSlider").slider("value", parseInt(value));
		});
        $("#metronome").change(function () {
        	if (this.value > 180) {
        		this.value = 180;
        	} else if (this.value < 0) {
        		this.value = 0;
        	}
		    var value = this.value;
		    $("#metronomeSlider").slider("value", parseInt(value));
		});
        $("#myVoicePart").change(function () {
        	if (this.value > 100) {
        		this.value = 100;
        	} else if (this.value < 0) {
        		this.value = 0;
        	}
		    var value = this.value;
		    $("#myVoicePartSlider").slider("value", parseInt(value));
		});
        $("#otherVoicePart").change(function () {
        	if (this.value > 100) {
        		this.value = 100;
        	} else if (this.value < 0) {
        		this.value = 0;
        	}
		    var value = this.value;
		    $("#otherVoicePartSlider").slider("value", parseInt(value));
		});

		<!-- FILTER RECORDINGS -->
		$('#filter').keyup(function() {
			var a = $(this).val();
			if (a.length > 0) {
				children = ($("#accordion1").children());
				var containing = children.filter(function() {
					var regex = new RegExp('\\b'+a, 'i');
					return regex.test($('a', this).text());
				}).slideDown();
				children.not(containing).slideUp();
			} else {
				children.slideDown();
			}
			return false;
		});
  });
  </script>

</head>

<body>
	<!-- NAVBAR -->
	<div class="navbar navbar-inverse navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container-fluid">
	          	<span id="brand" class="brand">Pitch Perfect</span>
	          	<div class="nav-collapse collapse">
	            	<ul class="nav pull-left">
		              	<li class="bold"><a href="index.html">Home</a></li>
		              	<li class="active bold"><a href="practice.html">Songs</a></li>
		             	<li class="bold"><a href="directory.html">People</a></li>
	            	</ul>
	            	<ul class="nav pull-right">
	            		<li class="dropdown">
						    <a href="#" class="dropdown-toggle bold" data-toggle="dropdown">
						    	<i class="icon-user icon-white"></i> Anna Denkrick <b class="caret"></b>
						    </a>
						    <ul class="dropdown-menu">
						        <li><a tabindex="-1" href="inbox.html">Inbox</a></li>
						        <li><a tabindex="-1" href="denkrick.html">Profile</a></li>
						        <li><a tabindex="-1" href="about.html">About</a></li>
						        <li class="divider"></li>
						        <li class="disabled"><a tabindex="-1" href="#">Log Out</a></li>
						    </ul>
					  	</li>
	            	</ul>
	          	</div> <!--/.nav-collapse -->
			</div>
		</div>
	</div>


	<!-- CONTENT GOES HERE -->
    <div class="container-fluid page">
    	<div class="row-fluid">
    		<div class="span3">
    			<div class="row-fluid">
    				<div class="span3">
	    				<a href="practice.html" class="btn btn-small btn-info">
	    					<i class="icon-white icon-chevron-left"></i>
	    				</a>
	    			</div>
	    			<div class="span3 offset6">
	    				<div class="btn-group" data-toggle="buttons-checkbox">	    					
	    					<button class="btn btn-small play">
	    						<i class="icon-play play-color"></i>
	    					</button>
	    					<button data-target="#notImplementedYetModal" data-toggle="modal" class="btn btn-small">
	    						<i class="icon-record record-color"></i>
	    					</button>
	    				</div>
	    			</div>
	    		</div>
	    		<div class="row-fluid">
	    			<div class="help-text" style="padding:15px;">1. Play the music by setting options below.
	    			<br>2. Make a recording!
	    			<br>3. Listen to recordings and read/write comments on the right.</div>
	    		</div>
    			<div class="row-fluid">
					<div class="span12" id="comments">
						<legend>Play Options</legend>
				    		<form class="form-horizontal" style="min-height:300px;">
				    			<div class="practice-header">Tempo</div>
				    			<div class="control-group">
									<label class="control-label" for="tempo">Playback</label>
								    <div class="controls">
								    	<input class="input-mini" type="text" id="tempo" value="20" />
								    </div>
									<div id="tempoSlider"></div>
								</div>
								<div class="control-group">
									<label class="control-label" for="metronome">Metronome</label>
								    <div class="controls">
								    	<input class="input-mini" type="text" id="metronome" value="20" />
								    </div>
									<div id="metronomeSlider"></div>
								</div>
				    			<div class="practice-header">Volume</div>
								<div class="control-group">
									<label class="control-label" for="myVoicePart">My Voice Part</label>
								    <div class="controls">
								    	<input class="input-mini" type="text" id="myVoicePart" value="20" />
								    </div>
									<div id="myVoicePartSlider"></div>
								</div>
								<div class="control-group">
									<label class="control-label" for="otherVoicePart">Other Voice Parts</label>
								    <div class="controls">
								    	<input class="input-mini" type="text" id="otherVoicePart" value="20" />
								    </div>
									<div id="otherVoicePartSlider"></div>
								</div>
				    		</form>
					</div>
				</div>
    		</div>
    		<div class="span6">
    			<div class="row-fluid">
	    			<div class="span12">
	    				<h2 class="text-center">The Sign</h2>
	    			</div>
    			</div> <!-- /row -->
    			<div class="row-fluid">
    				<div class="span12">
	    				<canvas width="640" height="200"></canvas>
	    				<p>
							<script>
								var canvas = $("canvas")[0];
							    var renderer = new Vex.Flow.Renderer(canvas,
							    Vex.Flow.Renderer.Backends.CANVAS);

							    var ctx = renderer.getContext();
							    var stave = new Vex.Flow.Stave(10, 0, 620);
							    stave.addClef("treble").setContext(ctx).draw();
							    stave.addTimeSignature("4/4").setContext(ctx).draw();

							    var staveTwo = new Vex.Flow.Stave(10, 100, 620);
							    staveTwo.addClef("treble").setContext(ctx).draw();
							    staveTwo.addTimeSignature("4/4").setContext(ctx).draw();

							    // Create the notes
								var notes = [
								    // A quarter-note C.
								    new Vex.Flow.StaveNote({ keys: ["c/4"], duration: "q" }),
								    // A quarter-note D.
								    new Vex.Flow.StaveNote({ keys: ["d/4"], duration: "q" }),
								    // A quarter-note rest. Note that the key (b/4) specifies the vertical
								    // position of the rest.
								    new Vex.Flow.StaveNote({ keys: ["b/4"], duration: "qr" }),
								    // A C-Major chord.
								    new Vex.Flow.StaveNote({ keys: ["c/4", "e/4", "g/4"], duration: "q" })
								];

								// Create a voice in 4/4
								var voice = new Vex.Flow.Voice({
								    num_beats: 4,
								    beat_value: 4,
								    resolution: Vex.Flow.RESOLUTION
								});

								// Add notes to voice
								voice.addTickables(notes);

								// Format and justify the notes to 500 pixels
								var formatter = new Vex.Flow.Formatter().
								    joinVoices([voice]).format([voice], 620);

								// Render voice
								voice.draw(ctx, stave);
								voice.draw(ctx, staveTwo);
							</script>
						</p>
					</div>
    			</div>
    		</div>
    		<div class="span3">
    			<div class="row-fluid">
					<div class="span12" id="comments">
						<legend>Recordings</legend>
						<input type="text" placeholder="Search Recordings" id="filter">
						<div class="accordion" id="accordion1" style="height:400px;overflow:auto;">
							<div class="accordion-group">
								<div class="accordion-heading">
									<div class="row-fluid">
										<div class="span1">
										<button data-target="#notImplementedYetModal" data-toggle="modal" class="btn btn-mini" style="margin:7px;">
					    					<i class="icon-play play-color"></i>
						    			</button></div>
						    			<div class="span9">
										<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion1" href="#collapseOne">Anna - First Try</a>
										</div>
										<div class="span2">
											<p style="margin:7px;">4/01</p>
										</div>
									</div>
								</div>
								<div id="collapseOne" class="accordion-body collapse in">
									<div class="accordion-inner">
										<div style="padding: 5px; border-bottom:1px solid #e3e3e3;">
											[4/16] <a href="bitdiddle.html">Ben</a>: Anna sounds great!
										</div>
										<input placeholder="Write a comment..." style="width:95%; margin:5px;">
									</div>
								</div>
							</div>
							<div class="accordion-group">
								<div class="accordion-heading">
									<div class="row-fluid">
										<div class="span1">
										<button data-target="#notImplementedYetModal" data-toggle="modal" class="btn btn-mini" style="margin:7px;">
					    					<i class="icon-play play-color"></i>
						    			</button></div>
						    			<div class="span9">
										<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion1" href="#collapseTwo">Anna - Second Try</a>
										</div>
										<div class="span2">
											<p style="margin:7px;">4/14</p>
										</div>
									</div>
								</div>
								<div id="collapseTwo" class="accordion-body collapse">
									<div class="accordion-inner">
										<div style="padding: 5px; border-bottom:1px solid #e3e3e3;">
											[4/16] <a href="bitdiddle.html">Ben</a>: Anna sounds great!
										</div>
										<input placeholder="Write a comment..." style="width:95%; margin:5px;">
									</div>
								</div>
							</div>
							<div class="accordion-group">
								<div class="accordion-heading">
									<div class="row-fluid">
										<div class="span1">
										<button data-target="#notImplementedYetModal" data-toggle="modal" class="btn btn-mini" style="margin:7px;">
					    					<i class="icon-play play-color"></i>
						    			</button></div>
						    			<div class="span9">
										<a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion1" href="#collapseThree">Ben - Tenor Recording</a>
										</div>
										<div class="span2">
											<p style="margin:7px;">4/16</p>
										</div>
									</div>
								</div>
								<div id="collapseThree" class="accordion-body collapse">
									<div class="accordion-inner">
										<div style="padding: 5px; border-bottom:1px solid #e3e3e3;">
											[4/16] <a href="denkrick.html">Anna</a>: Ben sounds great!
										</div>
										<input placeholder="Write a comment..." style="width:95%; margin:5px;">
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
    		</div>
    	</div>
    </div> <!-- /container -->

    <!-- Modal -->
	<div id="notImplementedYetModal" class="modal hide fade" tabindex="-1" role="dialog">
		<div class="modal-header">
	    	<button type="button" class="close" data-dismiss="modal">×</button>
	    	<h3>Oops!</h3>
		</div>
		<div class="modal-body">
	    	<p>This feature has not been implemented yet.  Please try again later!</p>
		</div>
		<div class="modal-footer">
			<button class="btn btn-primary" data-dismiss="modal">Close</button>
		</div>
	</div>

</body>
</html>